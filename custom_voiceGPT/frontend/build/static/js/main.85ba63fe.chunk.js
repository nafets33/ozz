(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){},22:function(e,t,n){e.exports=n(41)},41:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(18),l=n.n(o),i=n(10),s=n(52),c=n(5),p=n.n(c);n(16);var d=e=>{let{commands:t,myFunc:n,listenAfterReply:o=!1,no_response_time:l=3,apiInProgress:i=!1,listenButton:s=!1,session_listen:p=!1,initialFinalTranscript:d="",splitImage:g=!1}=e;const{finalTranscript:u,interimTranscript:m,resetTranscript:b,listening:x,browserSupportsSpeechRecognition:h,isMicrophoneAvailable:f}=Object(c.useSpeechRecognition)(),[y,E]=Object(r.useState)(""),[v,w]=Object(r.useState)(!0),[S,k]=Object(r.useState)(""),[_,j]=Object(r.useState)(0),[O,R]=Object(r.useState)(0),[C,z]=Object(r.useState)(!1),[A,I]=Object(r.useState)(""),[T,W]=Object(r.useState)(!1),L=Object(r.useRef)(null),N=Object(r.useRef)(null),$=Object(r.useRef)(null),[B,F]=Object(r.useState)([]),H=()=>{if(L.current){const e=L.current.selectionStart,t=L.current.selectionEnd,n=y.substring(e,t);n.length>0?(k(n),j(e),R(t),I("")):(k(""),j(0),R(0))}},M=async()=>{if(A.trim()&&S){W(!0);try{const r={api_body:{action:"replace_text",original_text:S,replacement_prompt:A.trim()}},a=await n(A.trim(),r,9);if(null===a||void 0===a||""===a||"None"===a||"string"===typeof a&&""===a.trim()){var e;console.log("MyFunc returned empty/null result, not replacing text"),I("");const t=null===(e=$.current)||void 0===e?void 0:e.placeholder;return void($.current&&($.current.placeholder="No replacement text returned - try a different prompt",setTimeout(()=>{$.current&&($.current.placeholder=t||"Enter replacement text or prompt...")},3e3)))}const o=y.substring(0,_)+a+y.substring(O);if(E(o),z(!1),k(""),I(""),L.current){L.current.focus();const e=_+a.length;L.current.setSelectionRange(e,e)}}catch(t){if(console.error("Error replacing text:",t),$.current){const e=$.current.placeholder;$.current.placeholder="Error occurred during replacement",setTimeout(()=>{$.current&&($.current.placeholder=e||"Enter replacement text or prompt...")},3e3)}}finally{W(!1)}}},P=()=>{z(!1),k(""),I(""),j(0),R(0),L.current&&L.current.focus()},D=Object(r.useCallback)(()=>{if(""!==u){if(F(e=>{const t=[...e,y];return t.length>8&&t.shift(),console.log("Updated transcript history:",t),t}),s)return n(u,{api_body:{}},8),E(e=>`${e} ${u}`.trim()),b(),void E("");if(p){let e=!1;for(let r=0;r<t.length;r++){const{keywords:a}=t[r];for(let o=0;o<a.length;o++){const l=new RegExp(a[o],"i");if(-1!==u.search(l)&&!i)return console.log(`Keyword found: ${a[o]}`),n(u,t[r],1),b(),void(e=!0)}}e||(E(e=>`${e} ${u}`.trim()),b())}else L.current&&(N.current=L.current.selectionStart),console.log("Recording speech-to-text without keyword triggers"),E(e=>`${e} ${u}`.trim()),b()}},[u,s,p,t,i,y]);return Object(r.useEffect)(()=>{C&&$.current&&setTimeout(()=>{$.current.focus()},100)},[C]),Object(r.useEffect)(()=>{d&&E(e=>`${e} ${d}`.trim()),D()},[d,D]),Object(r.useEffect)(()=>{L.current&&null!==N.current&&(L.current.selectionStart=N.current,L.current.selectionEnd=N.current,N.current=null)},[y]),h?f?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"}},a.a.createElement("button",{onClick:()=>{n(y,{api_body:{}},5),b(),E("")},style:{backgroundColor:"rgb(196, 230, 252)",color:"black",border:"none",padding:"5px 10px",borderRadius:"3px",cursor:"pointer",fontSize:"0.9em"}},"Send Transcript"),a.a.createElement("button",{onClick:()=>w(e=>!e),style:{backgroundColor:"white",color:"grey",border:"none",padding:"5px 10px",borderRadius:"3px",cursor:"pointer",fontSize:"0.9em"}},v?"Hide Transcript":"Show Transcript"),a.a.createElement("button",{onClick:()=>{b(),E(""),z(!1),k("")},style:{backgroundColor:"white",color:"grey",border:"none",padding:"5px 10px",borderRadius:"3px",cursor:"pointer",fontSize:"0.9em"}},"Clear Transcript"),a.a.createElement("button",{onClick:()=>{S&&(z(!0),I(""))},disabled:!S,style:{backgroundColor:S?"rgb(255, 245, 157)":"rgb(245, 245, 245)",color:S?"black":"grey",border:"none",padding:"5px 10px",borderRadius:"3px",cursor:S?"pointer":"not-allowed",fontSize:"0.8em"},title:S?"Click to replace selected text":"Select text in transcript first"},S?`Replace: "${S.substring(0,20)}${S.length>20?"...":""}"`:"Select text to replace")),a.a.createElement("button",{onClick:()=>{F(e=>{if(e.length>0){const t=e[e.length-1];return E(t),e.slice(0,-1)}return e})},disabled:0===B.length,style:{backgroundColor:B.length>0?"rgb(213, 209, 150)":"#ccc",color:"white",border:"none",padding:"3px 6px",borderRadius:"4px",cursor:B.length>0?"pointer":"not-allowed",fontSize:"0.9em",fontWeight:"bold",position:"relative"}},a.a.createElement("span",{style:{fontSize:"1.2em",marginRight:"6px"}},"\u2190"),a.a.createElement("span",{style:{visibility:"hidden",opacity:0,backgroundColor:"black",color:"white",textAlign:"center",borderRadius:"4px",padding:"5px",position:"absolute",bottom:"120%",left:"50%",transform:"translateX(-50%)",zIndex:1,fontSize:"0.8em",whiteSpace:"nowrap",transition:"opacity 0.2s ease-in-out"},className:"tooltip"},"Revert Transcript")),C&&a.a.createElement("div",{style:{position:"relative",backgroundColor:"rgb(255, 248, 220)",border:"2px solid rgb(255, 193, 7)",borderRadius:"8px",padding:"15px",marginBottom:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}},a.a.createElement("div",{style:{marginBottom:"10px",fontSize:"0.9em",fontWeight:"bold"}},'Replace: "',a.a.createElement("span",{style:{fontStyle:"italic",color:"#666"}},S),'"'),a.a.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},a.a.createElement("input",{ref:$,type:"text",value:A,onChange:e=>I(e.target.value),onKeyDown:e=>{"Enter"===e.key?M():"Escape"===e.key&&P()},placeholder:"Enter replacement text or prompt...",style:{flex:1,padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"0.9em"},disabled:T}),a.a.createElement("button",{onClick:M,disabled:!A.trim()||T,style:{backgroundColor:T?"#ccc":"rgb(40, 167, 69)",color:"white",border:"none",padding:"8px 15px",borderRadius:"4px",cursor:T?"not-allowed":"pointer",fontSize:"0.9em",fontWeight:"bold"}},T?"\u23f3":"Replace"),a.a.createElement("button",{onClick:P,disabled:T,style:{backgroundColor:"rgb(108, 117, 125)",color:"white",border:"none",padding:"8px 15px",borderRadius:"4px",cursor:T?"not-allowed":"pointer",fontSize:"0.9em",fontWeight:"bold"}},"Cancel")),a.a.createElement("div",{style:{marginTop:"8px",fontSize:"0.8em",color:"#666"}},"\ud83d\udca1 Note: `Replace, will replace text with ",g,"'s response`;")),v&&a.a.createElement("div",{style:{display:"flex",flexDirection:"column",maxHeight:"800px",height:"550px",overflowY:"auto",border:"1px solid #ccc",padding:"10px"}},a.a.createElement("span",null,a.a.createElement("strong",null,"Listening:")," ",a.a.createElement("span",{style:{color:x?"green":"gray",fontWeight:600,animation:x?"flash-green 1s infinite alternate":"none"}},x?"ON":"OFF"),a.a.createElement("style",null,"\n                @keyframes flash-green {\n                  0% { opacity: 1; }\n                  100% { opacity: 0.4; }\n                }\n              ")),a.a.createElement("span",null,a.a.createElement("strong",null,"Transcript:"),S&&a.a.createElement("span",{style:{marginLeft:"10px",fontSize:"0.8em",color:"#666"}},"(`Replace with ",g,"'s response`);")),m&&a.a.createElement("div",{style:{color:"#888",fontStyle:"italic",marginBottom:"8px"}},m),a.a.createElement("textarea",{ref:L,value:y,onChange:e=>{const t=e.target.value;E(t),F(e=>{const t=[...e,y];return t.length>8&&t.shift(),console.log("Updated transcript history (manual edit):",t),t})},onSelect:H,onMouseUp:H,onKeyUp:H,style:{backgroundColor:"rgb(255, 255, 255)",color:"black",width:"100%",height:"550px",border:"1px solid #ccc",padding:"5px",resize:"none"}}))):a.a.createElement("span",null,"Please allow access to the microphone"):a.a.createElement("span",null,"No browser support")};var g=e=>{let{showImage:t,imageSrc:n,largeHeight:r=100,largeWidth:o=100,smallHeight:l=40,smallWidth:i=40}=e;const s=t?r:l,c=t?o:i;return a.a.createElement("div",{className:"p-2",style:{display:"flex",flexDirection:"column",alignItems:"center"}},a.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},n&&(n.toLowerCase().endsWith(".mp4")?a.a.createElement("video",{style:{maxWidth:"100%",borderRadius:"8px",objectFit:"cover"},height:s,width:c,controls:t,autoPlay:!0,loop:!1,muted:!0},a.a.createElement("source",{src:n,type:"video/mp4"}),"Your browser does not support the video tag."):a.a.createElement("img",{src:n,height:s,width:c,style:{maxWidth:"100%",borderRadius:"8px",objectFit:"cover"},alt:"Media Preview"}))))};let u=[];var m=e=>{var t;const{api:n,kwargs:o={}}=e,{commands:l,height:i,width:c,show_video:m,input_text:b,no_response_time:x,face_recon:h,api_key:f,refresh_ask:y,self_image:E,api_audio:v,client_user:w,force_db_root:S,before_trigger:k,agent_actions:_}=o,[j,O]=Object(r.useState)(o.self_image),[R,C]=Object(r.useState)(o.self_image),[z,A]=Object(r.useState)(""),[I,T]=Object(r.useState)(o.answers||[]),[W,L]=Object(r.useState)(!1),[N,$]=Object(r.useState)(!1),[B,F]=Object(r.useState)(!1),[H,M]=Object(r.useState)(""),[P,D]=Object(r.useState)(!1),[U,Y]=Object(r.useState)(!1),[K,X]=Object(r.useState)(!1),[J,q]=Object(r.useState)(!0),[G,Q]=Object(r.useState)(!1),[V,Z]=Object(r.useState)(!1),[ee,te]=Object(r.useState)(!1),[ne,re]=Object(r.useState)(!1),[ae,oe]=Object(r.useState)(!1),[le,ie]=Object(r.useState)(o.before_trigger),se=Object(r.useRef)([]),ce=Object(r.useRef)(null),[pe,de]=Object(r.useState)(!1),[ge,ue]=Object(r.useState)("Click and Ask"),[me,be]=Object(r.useState)("Listening"),[xe,he]=Object(r.useState)(!1),[fe,ye]=Object(r.useState)([]),[Ee,ve]=Object(r.useState)(o.datatree||{}),[we,Se]=Object(r.useState)(o.datatree_title||""),[ke,_e]=Object(r.useState)([]),[je,Oe]=Object(r.useState)({}),[Re,Ce]=Object(r.useState)(0);Object(r.useEffect)(()=>{"undefined"!==typeof window&&Ce(window.innerWidth)},[]),Object(r.useEffect)(()=>{E&&ze(E)},[E]);const ze=async e=>{try{const n=await s.a.get(`${v}${e}`,{responseType:"blob"}),r=URL.createObjectURL(n.data);O(r),C(e)}catch(t){console.error("Error fetching image data:",t)}},Ae=async()=>{X(!0),p.a.startListening({continuous:!0,language:"en-US"})},Ie=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),[Te,We]=Object(r.useState)(null),[Le,Ne]=Object(r.useState)(null),$e=async(e,t,r)=>{let a=null,o=null;var l,i;9===r&&(console.log("Text replacement test - type 9 detected"),a=(null===(l=t.api_body)||void 0===l?void 0:l.original_text)||"",o=(null===(i=t.api_body)||void 0===i?void 0:i.replacement_prompt)||"",console.log("Original text:",a),console.log("Replacement prompt:",o)),A(` (${t.api_body.keyword}) ${e},`);const c=[...u,{user:e}];T([...c]);try{console.log("api call on listen...",t),console.log("selected_nodes",ke),D(!0);let e=null;"dataframe_edit"===r&&t.api_body&&t.api_body.dataframe&&(e=t.api_body.dataframe);const l={tigger_type:r,api_key:f,text:c,self_image:R,face_data:se.current,refresh_ask:y,client_user:w,force_db_root:S,session_listen:ne,before_trigger_vars:le,selected_actions:fe,selected_nodes:ke,dataframe:e,originalText:a,replacementPrompt:o};console.log("api");const{data:i}=await s.a.post(n,l);if(console.log("data :>> ",i,l),9===r){let e=i.text[i.text.length-1].resp||"";return console.log("Text replacement response:",e),e}if(i.self_image&&i.self_image!==R&&ze(i.self_image),i.text&&(T(i.text),u=[...i.text]),ce.current&&ce.current.pause(),i.audio_path){const e=`${v}${i.audio_path}`;ce.current=new Audio(e);try{await ce.current.play(),Y(!0),be("Speaking"),await new Promise(e=>{ce.current.onended=(()=>{console.log("Audio playback finished."),e()})})}catch(d){console.error("Audio playback error:",d)}finally{ce.current=null,Y(!1),be("Listen")}}if(ue("Click and Ask"),be("Listening"),Y(!1),D(!1),L(i.listen_after_reply),console.log("listen after reply",i.listen_after_reply,W),!1!==i.page_direct&&null!==i.page_direct&&(console.log("api has page direct",i.page_direct),window.location.href=i.page_direct),pe?de(!1):1==W?(console.log("API END HIT listenAfterReply==TRUE"),be("Awaiting your Answer please speak")):ee?(te(!1),X(!1),oe(!1),p.a.stopListening(),console.log("Stopping Listening, isListening=",K)):ae&&console.log("convo mode"),i.dataframe)return We(i.dataframe),void Ne(i.dataframe);if(9===r)return i.text[i.text.length-1].response||""}catch(d){console.log("api call on listen failed!",d),D(!1),te(!1)}console.log("ReSize Window"),ye([])};function Be(e,t){if(!e||"object"!==typeof e)return null;for(const[n,r]of Object.entries(e)){if(n===t)return r;if(r.children){const e=Be(r.children,t);if(e)return e}}return null}const Fe=(null===y||void 0===y?void 0:null===(t=y.color_dict)||void 0===t?void 0:t.background_color_chat)||"transparent",He=E.split(".")[0],Me=`Chat with ${He}`,Pe=ke[0]||null,De=Pe?Be(Ee,Pe):null,Ue=null===De||void 0===De?void 0:De.field_name,Ye=null===De||void 0===De?void 0:De.hyperlink,[Ke,Xe]=Object(r.useState)(!1),[Je,qe]=Object(r.useState)(450);return a.a.createElement("div",{style:{display:"flex",width:"100%",minHeight:"100vh"}},(!Ie||Ke)&&a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexShrink:0}},a.a.createElement("div",{style:{display:"flex",alignItems:"center",padding:Ie?"2px 4px":"4px 8px"}},a.a.createElement("button",{onClick:()=>Xe(e=>!e),style:{fontSize:Ie?"16px":"18px",padding:Ie?"2px 8px":"4px 10px",marginRight:Ie?"3px":"6px",border:"none",borderRadius:"50%",background:"transparent",color:"#2980b9",cursor:"pointer",height:Ie?"28px":"32px",width:Ie?"28px":"32px",boxShadow:"none",outline:"none",transition:"background 0.2s"},"aria-label":Ke?"Hide Sidebar":"Show Sidebar"},Ke?"\u23f4":"\u23f5")),Ke&&!Ie&&a.a.createElement("button",{onClick:()=>qe(e=>450===e?250:450),style:{border:"transparent",background:"transparent",cursor:"pointer",height:"32px",margin:"6px 0 0 0",width:"32px",alignSelf:"flex-end",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",boxShadow:"none",transition:"background 0.2s"}},450===Je?a.a.createElement("span",null,"\u23ea"):a.a.createElement("span",null,"\u23e9")),Ke&&a.a.createElement("div",{style:{width:Ie?"280px":Je,borderRight:"1px solid #ccc",padding:Ie?5:10,transition:"width 0.2s",maxHeight:Ie?"50vh":"none",overflowY:Ie?"auto":"visible"}},a.a.createElement(e=>{let{datatree:t={},onSelectionChange:n,collapsed:r,setCollapsed:o}=e;const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e||"object"!==typeof e||Array.isArray(e))return null;const s=Object.entries(e);return s.map((e,c)=>{let[p,d]=e;const g=[...i,p].join("/"),u=d.children&&"object"===typeof d.children&&!Array.isArray(d.children)&&Object.keys(d.children).length>0,m=void 0===r[g]||r[g],b=c===s.length-1;return a.a.createElement("div",{key:g,style:{marginLeft:14*t,position:"relative",whiteSpace:"nowrap",display:"flex",flexDirection:"column",alignItems:"flex-start",fontSize:"14px",fontFamily:"inherit",marginBottom:"2px",paddingTop:"4px",paddingBottom:"4px"}},t>0&&a.a.createElement("div",{style:{position:"absolute",left:-5,top:0,height:"100%",width:16,zIndex:0}},a.a.createElement("div",{style:{position:"absolute",left:-5,top:0,bottom:b?"50%":0,width:2,background:"#bbb",height:u&&!m?"50%":"100%"}}),a.a.createElement("div",{style:{position:"absolute",left:7,top:12,width:9,height:2,background:"#bbb"}})),a.a.createElement("div",{style:{display:"flex",alignItems:"center",position:"relative",zIndex:1}},u&&a.a.createElement("button",{onClick:()=>(e=>{o(t=>({...t,[e]:void 0!==t[e]&&!t[e]}))})(g),style:{border:"none",background:"transparent",cursor:"pointer",fontSize:"14px",marginRight:"4px",padding:0,width:"18px",height:"18px",lineHeight:"18px",userSelect:"none"},"aria-label":m?"Expand":"Collapse",tabIndex:-1},m?"\u25b6":"\u25bc"),a.a.createElement("input",{type:"checkbox",checked:ke.includes(p),onChange:()=>(e=>{let t;t=ke.includes(e)?ke.filter(t=>t!==e):[...ke,e],n&&n(t)})(p),style:{marginRight:"10px"}}),d.hyperlink?a.a.createElement("a",{href:d.hyperlink,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"#2980b9",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"inline-block",verticalAlign:"middle"},title:d.field_name},d.field_name):a.a.createElement("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"160px",display:"inline-block",verticalAlign:"middle"},title:d.field_name},d.field_name)),u&&!m&&a.a.createElement("div",{style:{width:"100%"}},l(d.children,t+1,[...i,p])))})};return we&&t?a.a.createElement("div",{style:{width:"100%",padding:10,maxHeight:800,overflowY:"auto",background:"transparent"}},a.a.createElement("h4",{style:{margin:"0 0 8px 0",fontWeight:600}},we),a.a.createElement("div",null,l(t))):null},{datatree:Ee,onSelectionChange:_e,collapsed:je,setCollapsed:Oe}))),a.a.createElement("div",{style:{flex:1,padding:Ie?"4px":"8px",minWidth:0}},Ie&&!Ke&&a.a.createElement("div",{style:{marginBottom:"8px"}},a.a.createElement("button",{onClick:()=>Xe(!0),style:{fontSize:"16px",padding:"4px 8px",border:"1px solid #2980b9",borderRadius:"4px",background:"transparent",color:"#2980b9",cursor:"pointer"}},Ke?"\u23f4":"\u23f5")),a.a.createElement("div",null,Pe&&De?a.a.createElement("div",{style:{fontSize:Ie?"14px":"16px",marginBottom:"8px"}},"Working Page:"," ",Ye?a.a.createElement("a",{href:Ye,target:"_blank",rel:"noopener noreferrer"},Ue):Ue):a.a.createElement("div",null),ke.length>1&&a.a.createElement("div",{style:{marginTop:8,fontSize:Ie?"12px":"14px"}},a.a.createElement("strong",null,"Extra Context:")," ",ke.slice(1).map((e,t)=>{const n=Be(Ee,e);return a.a.createElement("span",{key:e,style:{marginRight:8}},(null===n||void 0===n?void 0:n.field_name)||e,t<ke.length-2?",":"")}))),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},a.a.createElement("div",null,a.a.createElement(g,{showImage:xe,imageSrc:j,largeHeight:Ie?80:100,largeWidth:Ie?80:100,smallHeight:Ie?30:40,smallWidth:Ie?30:40})),a.a.createElement("div",{style:{flex:xe?1:"100%",overflowY:"auto",maxHeight:Ie?"300px":"450px"}},J&&a.a.createElement("div",{style:{display:"flex",flexDirection:"column",maxHeight:Ie?"300px":"450px",height:Ie?"300px":"450px",overflowY:"auto",padding:Ie?"5px":"10px"}},I.map((e,t)=>a.a.createElement("div",{key:t,className:"chat-message-container",style:{marginBottom:"5px",padding:Ie?"3px":"5px",borderRadius:"4px",border:"1px solid #ccc",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}},a.a.createElement("div",{className:"chat-user",style:{textAlign:"right",marginLeft:"auto",padding:Ie?"3px":"5px",fontSize:Ie?"12px":"14px"}},w,": ",a.a.createElement("span",null,e.user)),a.a.createElement("div",{className:"chat-response-container",style:{display:"flex",alignItems:"flex-start",backgroundColor:Fe,padding:Ie?"5px":"10px"}},j&&a.a.createElement("div",{className:"chat-image",style:{marginRight:Ie?"5px":"10px"}},a.a.createElement("img",{src:j,alt:"response",style:{width:Ie?"30px":"50px"}})),a.a.createElement("div",{className:"chat-response-text",style:{flex:1,wordBreak:"break-word",fontSize:Ie?"12px":"14px"}},e.resp?a.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.resp}}):a.a.createElement("span",{className:"spinner"})))))))),b&&a.a.createElement(a.a.Fragment,null,a.a.createElement("hr",{style:{margin:"3px 0"}}),a.a.createElement("div",{className:"form-group",style:{display:"flex",alignItems:"center"}},a.a.createElement("input",{className:"form-control",type:"text",placeholder:Me,value:H,onChange:e=>{M(e.target.value),de(!0)},onKeyDown:e=>{"Enter"===e.key&&(console.log("textString :>> ",H),$e(H,{api_body:{keyword:""}},4),M(""))},style:{flex:1,fontSize:Ie?"14px":"16px",padding:Ie?"6px":"8px"}})),a.a.createElement("hr",{style:{margin:"3px 0"}})),Te&&Array.isArray(Te)&&Te.length>0&&Le&&Array.isArray(Le)&&Le.length>0&&a.a.createElement("div",{style:{padding:20,border:"2px solid #b3c6e0",borderRadius:"12px",background:"rgba(240, 248, 255, 0.7)",boxShadow:"0 2px 12px rgba(100, 150, 200, 0.08)",marginBottom:16,marginTop:8}},a.a.createElement("h3",{style:{marginTop:0,color:"#2a3b5d"}},"Edit Dataframe"),a.a.createElement("table",{style:{borderCollapse:"collapse",width:"100%",background:"rgba(255,255,255,0.5)",borderRadius:"8px",overflow:"hidden",boxShadow:"0 1px 4px rgba(100,150,200,0.06)"}},a.a.createElement("thead",null,a.a.createElement("tr",null,Object.keys(Te[0]).map(e=>a.a.createElement("th",{key:e,style:{border:"1px solid #c8d6e5",padding:6,background:"rgba(200,220,255,0.35)",color:"#2a3b5d",fontWeight:600}},e)))),a.a.createElement("tbody",null,Le.map((e,t)=>a.a.createElement("tr",{key:t},Object.keys(e).map(n=>a.a.createElement("td",{key:n,style:{border:"1px solid #c8d6e5",padding:4,background:"rgba(255,255,255,0.3)"}},a.a.createElement("input",{value:e[n],onChange:e=>{const r=Le.map((r,a)=>a===t?{...r,[n]:e.target.value}:r);Ne(r)},style:{width:"100%",background:"rgba(255,255,255,0.5)",border:"1px solid #b3c6e0",borderRadius:"4px",padding:"2px 4px",color:"#2a3b5d"}}))))))),a.a.createElement("div",{style:{marginTop:12}},a.a.createElement("button",{style:{marginRight:8,background:"rgba(42, 59, 93, 0.8)",color:"#fff",border:"none",borderRadius:"4px",padding:"6px 14px",cursor:"pointer"},onClick:async()=>{await $e(H,{api_body:{dataframe:Le}},"dataframe_edit"),We(null),Ne(null)}},"Save"),a.a.createElement("button",{style:{background:"rgba(200,220,255,0.5)",color:"#2a3b5d",border:"none",borderRadius:"4px",padding:"6px 14px",cursor:"pointer"},onClick:()=>{We(null),Ne(null)}},"Cancel"))),a.a.createElement("div",{className:"form-group",style:{display:"flex",alignItems:"left",flexWrap:"wrap",gap:Ie?"4px":"8px"}},a.a.createElement("button",{onClick:()=>{te(!0),K||Ae(),ue("Please Speak"),console.log("listening button listen click"),console.log(ee)},style:{marginLeft:Ie?4:8,background:ee?"rgb(26, 182, 28)":"rgb(19, 123, 193)",border:"none",borderRadius:"50%",width:Ie?32:36,height:Ie?32:36,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",fontSize:Ie?16:20,boxShadow:"0 1px 4px rgba(0,0,0,0.08)",transition:"background 0.2s"},title:"Click and Ask"},a.a.createElement("span",{role:"img","aria-label":"microphone"},"\ud83c\udfa4")),a.a.createElement("button",{onClick:async()=>{console.log("convo_mode - listening?",K,"isMobile:",Ie,"convo_button:",ae),ae?(console.log("Stopping continuous listening..."),oe(!1),X(!1),p.a.stopListening()):(console.log("Starting continuous listening..."),oe(!0),Ae())},onMouseEnter:()=>Z(!0),onMouseLeave:()=>Z(!1),style:{marginLeft:8,background:ae?"rgb(26, 182, 28)":"rgb(19, 123, 193)",border:"none",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",fontSize:20,boxShadow:"0 1px 4px rgba(0,0,0,0.08)",transition:"background 0.2s",position:"relative"}},a.a.createElement("span",{role:"img","aria-label":ae?"paper":"x"},ae?"\ud83c\udfa7":"\ud83d\udd07"),"  ",V&&a.a.createElement("span",{style:{position:"absolute",top:"-38px",left:"50%",transform:"translateX(-50%)",background:"#222",color:"#fff",padding:"4px 10px",borderRadius:"4px",fontSize:"13px",whiteSpace:"nowrap",zIndex:1e3,pointerEvents:"none"}},ae?"Listening On":"Listening OFF")),a.a.createElement("button",{onClick:()=>{re(!ne)},onMouseEnter:()=>Q(!0),onMouseLeave:()=>Q(!1),style:{marginLeft:8,background:ne?"rgb(26, 182, 28)":"rgb(19, 123, 193)",border:"none",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",fontSize:20,boxShadow:"0 1px 4px rgba(0,0,0,0.08)",transition:"background 0.2s",position:"relative"}},a.a.createElement("span",{role:"img","aria-label":ne?"paper":"x"},"\ud83d\udcc4"),"  ",G&&a.a.createElement("span",{style:{position:"absolute",top:"-38px",left:"50%",transform:"translateX(-50%)",background:"rgb(235, 243, 244)",color:"rgb(45, 68, 72)",padding:"4px 10px",borderRadius:"4px",fontSize:"13px",whiteSpace:"normal",maxWidth:"220px",textAlign:"center",zIndex:1e3,pointerEvents:"none"}},ne?"ON":`Enable's "hey ${He}" commands & holds Transcript"`))),Array.isArray(_)&&_.length>0&&a.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"right",marginTop:"8px",gap:"6px",alignItems:"right"}},a.a.createElement("span",{style:{fontWeight:600,marginRight:12,minWidth:90,textAlign:"left"}},"Agent Actions:"),_.map((e,t)=>{const n=fe.includes(e);return a.a.createElement("button",{key:t,onClick:()=>{ye(n?fe.filter(t=>t!==e):[...fe,e])},style:{fontSize:"12px",padding:"5px 10px",backgroundColor:n?"rgb(59, 159, 72)":"rgb(200, 233, 238)",color:n?"white":"black",border:"1px solidrgb(239, 242, 244)",borderRadius:"4px",cursor:"pointer"}},e)})),a.a.createElement("div",{className:"p-2",style:{marginBottom:"15px"}},a.a.createElement(d,{commands:l,myFunc:$e,listenAfterReply:W,no_response_time:x,apiInProgress:P,listenButton:ee,session_listen:ne,listening:K,initialFinalTranscript:o.initialFinalTranscript||"",splitImage:He}))))};var b=Object(i.b)(e=>{const{api:t,kwargs:n}=e.args;return Object(r.useEffect)(()=>i.a.setFrameHeight()),a.a.createElement(a.a.Fragment,null,a.a.createElement(m,{api:t,kwargs:n}))}),x=n(53),h=n(21),f=n(51),y=n(42);const E=new x.a;l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(h.a,{value:E},a.a.createElement(f.a,{theme:y.a},a.a.createElement(b,null)))),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.85ba63fe.chunk.js.map